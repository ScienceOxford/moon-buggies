<!DOCTYPE html>
<html>

<head>
  <title>Moon Buggies</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Mono&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <header>
    <a href="https://scienceoxford.com" target="_blank"><img src=".\images\so_logo.png" alt="Science Oxford Logo" width="400px" height="auto"></a>
    <h1>CCC - Moon Buggies</h1>
  </header>

  <div id="intro">
    <p>Resources for the 'Moon Buggies' Creative Computing Club.</p>
    <p>During this workshop, you will program robot buggies to collect 'moon rocks'.</p>
    <p>This page recaps what <a href="https://bit.ly/May22CCC" target="_blank">we discussed as a group</a>.</p>
    <p>To skip to the examples and ideas, <a href="#extensions">click here</a>.</p>
    <br>
  </div>

  <div id="starter" class="left">
    <h3>Creating your first micro:bit program</h3>
    <p><a href="https://raw.githubusercontent.com/ScienceOxford/moon-buggies/master/examples/starter.py" target="_blank">Click here to find the starter program, with the imports ready.</a></p>
    <p>Open <a href="https://codewith.mu/" target="_blank">the Mu editor</a> on your computer. <strong>If there is code on the screen</strong>, start a New program from the menu.</p>
    <img src="https://raw.githubusercontent.com/ScienceOxford/cyber-pet/master/images/mu_toolbar_new.png" alt="Mu menu, highlighting 'New'" width="1000px" height="auto">
    <p>Type these lines of code into your blank window:</p>
    <pre>from microbit import *
import radio

display.show(Image.HAPPY)</pre>
    <br>
    <p>Plug your micro:bit into the computer, then click Flash:</p>
    <img src="https://raw.githubusercontent.com/ScienceOxford/cyber-pet/master/images/mu_toolbar_flash.png" alt="Mu menu, highlighting 'Flash'" width="1000px" height="auto">
    <p>Some code should be running on your micro:bit!</p>
    <p><strong>If you get a message scrolling across the micro:bit's screen</strong>, this is an error message!</p>
    <p><strong>Debug</strong> your code, then click Flash again to test your changes.</p>
    <p>Once your code is working - change it!</p>
    <p>Instead of <code>HAPPY</code>, can you think of another <code>Image</code> the micro:bit could <code>show</code> on its <code>display</code>?</p>
    <br>
  </div>

  <div id="on-the-moon" class="left">
    <h3>Testing your Moonbuggy</h3>
    <p>If you are in Science Oxford's workshop, your robot is named after a current astronaut, and has a number.</p>
    <p><a href="https://raw.githubusercontent.com/ScienceOxford/moon-buggies/master/examples/moonbuggy.py" target="_blank">If you not in a Science Oxford, download MoonBuggy.py, edit the channel numnber, and flash to your robot's micro:bit.</a></p>
    <p>Look at the information on your table to find out more about your astronaut, and find out what number they are - this is your <strong>radio channel number</strong>.</p>
    <p>Add the below code to your program, between<code> import radio</code> and before<code> display.show()</code>:</p>
    <pre>radio.on()
radio.config(channel=0)</pre>
    <br>
    <p class=debugging><strong>Edit the channel number to be your robot's number!</strong></p>
    <p>Flash your code to your micro:bit, and check for errors.</p>
    <br>
    <p>Click the 'REPL' button on Mu's menu, this will open a <em>terminal</em> at the bottom of your screen.</p>
    <img src=".\images\repl.PNG" alt="Mu menu, highlighting 'Flash'" width="1000px" height="auto">
    <br>
    <p>Turn your micro:bit over and click the <strong>Reset button</strong> on the back (between the USB socket and the white battery socket).</p>
    <p>You can now type commands directly into the terminal, to interact with your micro:bit. Try this:</p>
    <pre> >> display.show(Image.YES)</pre>
    <br>
    <p>Does your micro:bit's display change?</p>
    <p>Now try to send a message to your robot on the moon:</p>
    <pre> >> radio.send('forward 500 500')</pre>
    <br>
    <p>Did your robot move? Check for error messages in the terminal, and try again.</p>
    <ul>
        <li>Check your spelling</li>
        <li>Make sure there is a space between <code>forward</code> and each number</li>
    </ul>
    <br>
    <p>Practice driving your moon buggy by combining these commands:</p>
    <ul>
        <li>directions = <code> forward, backward, left, right</code></li>
        <li>The first number is the speed - maximum <code> 1023</code></li>
        <li>The second number is time - maximum <code> 10000</code> (10s)</li>
    </ul>
    <br>
  </div>

  <div id="on-earth" class="left">
    <h3>Back to Earth</h3>
    <p>You probably noticed that your robot doesn't obey your commands immediately.</p>
    <p>Information takes approximately 1.255 seconds to travel from Earth to the Moon, so if you were really sending commands one at a time to a robot on the Moon, then there would be a delay.</p>
    <p>Scientists always test everything out on Earth before sending things to space, as testing is much easier this way!</p>
    <br>
    <p>For the rest of the workshop, you can turn this delay on and off, to make the robot behave as though it is on the Moon or on Earth, depending on what you are doing.</p>
    <p>Send this command using the terminal to remove the delay:</p>
    <pre>radio.send('earth')</pre>
    <br>
    <p>What do you think you could send to put the buggy back on the Moon?</p>
    <br>
  </div>

  <div id="grabber" class="left">
    <h3>Using the Grabber</h3>
    <p>Your robot has a grabbing claw on the front - this can open and close to varying amounts to help you collect moon rock samples to bring back to base camp.</p>
    <pre> >> radio.send('grab 6')
 >> radio.send('grab 1')</pre>
    <br>
    <p>The grabbers have 6 position options - 6 is fully open, 1 is fully closed.</p>
    <p>Test it out - what options work best for the moon rocks?</p>
    <p>Can you successfully transport moon rocks around the surface?</p>
    <br>
  </div>

  <div id="functions" class="left">
    <h3>Type more quickly with Functions</h3>
    <p>Typing every command in one at a time is really slow.</p>
    <p>Now that you have practiced with the moon buggies, you know which commands you use most often - you can shorten what you need to write to make this happen, by using <strong>functions</strong>.</p>
    <p>A function is like a recipe - you teach the micro:bit a set of instructions and give these instructions a name. Then you just need to use the name, and the micro:bit knows what to do.</p>
    <br>
    <h2>Example 1: shorten radio.send()</h2>
    <br>
    <pre>def do(message):
    radio.send(message)</pre>
    <br>
    <p>The function allows you to replace radio.send with do:</p>
    <pre> >> do('forward 500 500')
 >> radio.send('forward 500 500')</pre>
    <br>
    <p>This saves you 8 letters of typing each time, which adds up to a lot when you are sending lots of commands.</p>
    <br>
    <p><strong>How it works:</strong></p>
    <ul>
        <li><code>def</code> is short for 'define', it means you are creating your function</li>
        <li>We are naming this function <code>do</code> and it takes an <strong>argument</strong> called <code>message</code></li>
        <ul>
            <li>When you <strong>call</strong> the function (use it), whatever you type inside the brackets after <code>do()</code> will have the function's instruction applied to it</li>
        </ul>
        <li>So if we type<code> do('forward 500 500')</code></li>
        <ul>
            <li>The message<code> 'forward 500 500'</code> is sent over the radio.</li>
        </ul>
    </ul>
    <br>
    <h2>Example 2: combine instructions</h2>
    <br>
    <pre>def grabber1():
    radio.send('grab 5')
    sleep(10)
    radio.send('forward 500 1000')
    sleep(10)
    radio.send('grab 2')
    sleep(10)</pre>
    <br>
    <p>We can now use just one command in the terminal to send three radio messages at once:</p>
    <pre> >> grabber1()</pre>
    <br>
    <p>This one instruction will open the grabber, drive a small amount forward, then close the grabber again - hopefully picking up a moon rock!</p>
    <br>After testing out commands one at time, decide what would be useful to combine together.</p>
    <ul>
        <li>You can send up to 8 instructions at once.</li>
        <li>Add a<code> sleep(10) </code> between each instruction to slow the messages down - too many at once can cause a memory error!</li>
    </ul>
    <br>
  </div>

  <div id="extensions" class="left">
    <h3>What next?</h3>
    <ul>
        <li>We have three different kinds of moon rocks to collect, that might need different combinations of instructions to pick up correctly - <strong>write a different function for each type of rock</strong>.</li>
        <br>
        <li>Space research needs lots of funding! Can you <strong>make your robot do something cool</strong>, to attract investors to your project? A funky dance routine, driving in the shape of a letter... what do you think would increase interest in space research?</li>
        <br>
        <li>There is no air on the Moon, so sound cannot travel there. But it is still a useful tool for the Earth-based researchers - your HQ micro:bit can <a href="speaker.html" target="_blank">play music and sound effects</a>, so try adding them into your functions.</li>
        <br>
        <li>Typing commands into the terminal, even with your functions, takes a while - use the micro:bits <a href="inputs.html" target="_blank">A and B buttons</a> as shortcuts to send your most-used instructions to your robot.</li>
    </ul>
    <br>
  </div>

  <footer class="links">
    <a href="https://github.com/ScienceOxford/moon-buggies/" target="_blank">View on GitHub</a>
  </footer>

</body>

</html>
